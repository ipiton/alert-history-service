---
# Example Kubernetes Secret for Rootly Publishing Target
# This secret is automatically discovered by the TargetDiscoveryManager
# when labeled with 'publishing-target=true'
#
# Usage:
#   kubectl apply -f rootly-secret-example.yaml
#   kubectl get secret rootly-prod -o jsonpath='{.data}'
#
apiVersion: v1
kind: Secret
metadata:
  name: rootly-prod
  namespace: alert-history
  labels:
    publishing-target: "true"
    target-type: "rootly"
type: Opaque
data:
  # Base64 encoded values
  # Use: echo -n 'value' | base64

  # Required fields
  name: cm9vdGx5LXByb2Q=  # "rootly-prod"
  type: cm9vdGx5  # "rootly"
  url: aHR0cHM6Ly9hcGkucm9vdGx5LmNvbS92MS9pbmNpZGVudHM=  # "https://api.rootly.com/v1/incidents"
  api_key: eW91ci1yb290bHktYXBpLWtleQ==  # "your-rootly-api-key" (REPLACE WITH REAL KEY)

  # Optional fields
  enabled: dHJ1ZQ==  # "true"
  format: cm9vdGx5  # "rootly"

# For additional environments (staging, dev), create separate files:
# - rootly-staging-secret.yaml
# - rootly-dev-secret.yaml
